# Wardrobe.AI Backend

FastAPI backend for hairstyle and clothing virtual try-on.

## Setup

```bash
cd backend
pip install -r requirements.txt
```

Add hair color images to `../datasets/colors/` (blonde.png, brunette.png, etc.)

## Run

```bash
python app/main.py
```

The server will start at http://localhost:8000

Interactive API documentation is automatically generated by FastAPI at:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## Endpoints

```
GET  /api/hairstyles/shapes   - Get available hairstyle shapes
GET  /api/hairstyles/colors   - Get available hair colors
POST /api/hairstyles/try-on   - Try on a hairstyle (HairFastGAN local model)
POST /api/clothing/try-on     - Clothing virtual try-on (IDM-VTON local model)
  Parameters:
    - person_image: Image file of the person
    - clothing_image: Image file of the garment
    - num_inference_steps: Number of denoising steps (default: 30)
    - guidance_scale: Guidance scale for generation (default: 2.0)
    - seed: Random seed for reproducibility (default: 42)
```

## Directory Structure

- Uploads: `../datasets/uploads/`
- Generated: `../datasets/generated/`
- Models:
  - `../models/HairFastGAN/` - Local hairstyle try-on model
  - `../models/clothes-virtual-try-on/` - Checkpoints downloaded (not used)

## Technology Stack

- **Hairstyle Try-On**: HairFastGAN (local model)
- **Clothing Try-On**: IDM-VTON (local model, auto-downloads from HuggingFace)
- **Backend**: FastAPI
- **Image Processing**: PyTorch, OpenCV, PIL, Diffusers
